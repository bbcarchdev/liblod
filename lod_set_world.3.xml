<?xml version="1.0" encoding="utf-8"?>
<refentry version="5.0" xml:lang="en" xml:id="lod_set_world-3" xmlns="http://docbook.org/ns" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink">
  <info>
	<authorgroup>
	  <author>
		<personname>
		  <firstname>Mo</firstname>
		  <surname>McRoberts</surname>
		</personname>
		<affiliation>
		  <org>
			<orgname>BBC</orgname>
			<orgdiv>Archive Development</orgdiv>
			<uri>http://www.bbc.co.uk/archive/</uri>
		  </org>
		</affiliation>
	  </author>
	</authorgroup>
	<copyright>
	  <year>2014</year>
	  <holder>BBC</holder>
	</copyright>
  </info>
  
  <refmeta>
	<refentrytitle>lod_set_world</refentrytitle>
	<manvolnum>3</manvolnum>
	<refmiscinfo class="source">Linked Open Data client</refmiscinfo>
	<refmiscinfo class="manual">Library functions</refmiscinfo>
  </refmeta>
  
  <refnamediv>
	<refname>lod_set_world</refname>
	<refpurpose>Set a new librdf world to be used by a context</refpurpose>
  </refnamediv>
  
  <refsynopsisdiv>
	<funcsynopsis>
	  <funcsynopsisinfo>#include &lt;liblod.h&gt;</funcsynopsisinfo>
	  <funcprototype>
		<funcdef>int <function>lod_set_world</function></funcdef>
		<paramdef>LODCONTEXT *<parameter>context</parameter></paramdef>
		<paramdef>librdf_world *<parameter>world</parameter></paramdef>
	  </funcprototype>
	</funcsynopsis>
  </refsynopsisdiv>

  <refsect1>
	<title>Description</title>

	<para>
	  <function>lod_set_world</function> sets or resets the
	  <type>librdf_world</type> object associated with
	  <parameter>context</parameter>.
	</para>
	<para>
	  Any existing <type>librdf_world</type> associated with the
	  context will be discarded, freeing it
	  (using <function>librdf_free_world</function>) if it was automatically
	  allocated by <package>liblod</package>, as is the case when a context
	  is initially created.
	</para>
	<para>
	  If <parameter>world</parameter> is <constant>NULL</constant>,
	  a new <type>librdf_world</type> will be allocated and associated with
	  <type>context</type>. This object will be automatically destroyed when it
	  is no longer required.
	</para>
	<para>
	  If <parameter>world</parameter> is not <constant>NULL</constant>,
	  then the supplied <type>librdf_world</type> will be associated with
	  <type>context</type>. <package>liblod</package> will not automatically
	  destroy this <type>librdf_world</type> object when it is is no longer
	  required, and it is the calling application's responsibility to do
	  so.
	</para>
  </refsect1>

  <refsect1>
	<title>Note</title>
	<para>
	  Changing the <type>librdf_world</type> associated with
	  <type>context</type> will also cause the associated
	  <type>librdf_storage</type> and <type>librdf_model</type> to be
	  discarded (and destroyed, if they were automatically allocated).
	</para>
  </refsect1>

  <refsect1>
	<title>Caution</title>
	<para>
	  Do not destroy a <type>librdf_world</type> object associated with a
	  context until after it has either been replaced (via another call to
	  <function>lod_set_world</function>), or the context itself has been
	  destroyed (by <function>lod_destroy</function>).
	</para>
  </refsect1>
  
  <refsect1>
	<title>See also</title>

	<para>
	  <link xlink:href="lod_world.3"><citerefentry><refentrytitle>lod_world</refentrytitle><manvolnum>3</manvolnum></citerefentry></link>,
	  <link xlink:href="lod_create.3"><citerefentry><refentrytitle>lod_create</refentrytitle><manvolnum>3</manvolnum></citerefentry></link>,
	  <link xlink:href="lod_destroy.3"><citerefentry><refentrytitle>lod_destroy</refentrytitle><manvolnum>3</manvolnum></citerefentry></link>,
	  <link xlink:href="lod_errmsg.3"><citerefentry><refentrytitle>lod_errmsg</refentrytitle><manvolnum>3</manvolnum></citerefentry></link>,
	  <link xlink:href="http://librdf.org/docs/api/redland-world.html#librdf-new-world"><citerefentry><refentrytitle>librdf_new_world</refentrytitle><manvolnum>3</manvolnum></citerefentry></link>,
	  <link xlink:href="http://librdf.org/docs/api/redland-world.html#librdf-free-world"><citerefentry><refentrytitle>librdf_free_world</refentrytitle><manvolnum>3</manvolnum></citerefentry></link>.
	</para>
  </refsect1>

</refentry>
